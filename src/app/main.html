<div class="main-container" ng-controller="MainController as vm">
  <fountain-header></fountain-header>
  <div class="title col-xs-10 col-xs-offset-1">
    <h1 class="text-center">Generated Graph</h1>
    <div>
      <canvas id="line" class="chart chart-line" chart-data="vm.data"
      chart-labels="vm.labels" chart-series="vm.series">
      </canvas
    </div>
    <h2 class="text-center">Graph Data</h2>
    <div class="col-md-4 col-md-offset-4 col-xs-8 col-xs-offset-2">
      <h4 class="text-center">Add Value</h4>
      <div class="row text-center">
        <form name="valuesForm">
          <input type="text" ng-pattern="/^[0-9]+$/" name="value" placeholder="New Value" class="form-control" ng-model="vm.currentValue" required/>
          <div ng-show="valuesForm.value.$error.pattern" class="alert alert-danger" role="alert">
            <strong>Error!</strong> Value has to be an integer.
          </div>
          <input type="text" ng-pattern="/^[a-zA-Z]+$/" name="label" placeholder="New Label" class="form-control" ng-model="vm.currentLabel" required/>
          <div ng-show="valuesForm.label.$error.pattern" class="alert alert-danger" role="alert">
            <strong>Error!</strong> Label needs to be a string.
          </div>
          <button class="btn btn-primary" ng-disabled="valuesForm.$invalid" ng-click="vm.addValues(vm.currentValue, vm.currentLabel)">Add Values</button>
        </form>
      </div>
    </div>
    <div class="col-md-4 col-md-offset-4">
      <h4>Edit Values</h4>
      <table class="table">
        <tr>
          <th>Label</th>
          <th>Value</th>
          <th></th>
          <th></th>

        </tr>
        <tr ng-repeat="data in vm.repeatData">
          <td>{{data.label}}</td>
          <td>{{data.value}}</td>
          <td ng-click="vm.deleteValue(data.index)"><i class="fa fa-trash"></i></td>
          <td ng-click="vm.editValue(data.index)"><i class="fa fa-pencil"></i></td>
        </tr>
      </table>
    </div>
  </div>
</div>
